--- fglrx-8.620/common/lib/modules/fglrx/build_mod/firegl_public.c.orig	2009-07-01 01:49:13.000000000 +0300
+++ fglrx-8.620/common/lib/modules/fglrx/build_mod/firegl_public.c	2009-07-01 01:53:24.000000000 +0300
@@ -1285,7 +1285,11 @@ unsigned int ATI_API_CALL KCL_ProcessIsT
    int process_terminated = 1;
   
 #if LINUX_VERSION_CODE >= KERNEL_VERSION(2,6,17)  
+#if !defined(CONFIG_PREEMPT_RT)
    rcu_read_lock();
+#else
+   preempt_disable();
+#endif
 #else   
    read_lock(&tasklist_lock);
 #endif   
@@ -1306,7 +1310,11 @@ unsigned int ATI_API_CALL KCL_ProcessIsT
       }
    }   
 #if LINUX_VERSION_CODE >= KERNEL_VERSION(2,6,17)  
+#if !defined(CONFIG_PREEMPT_RT)
    rcu_read_unlock();
+#else
+   preempt_disable();
+#endif
 #else   
    read_unlock(&tasklist_lock);
 #endif   
