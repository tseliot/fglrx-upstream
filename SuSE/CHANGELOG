-------------------------------------------------------------------
Thu Feb 17 11:49:00 CET 2011 - Sebastian Siebert <freespacer@gmx.de>

- change in fglrx.spec
  - remove required packages like kernel-syms, kernel-*-devel
    because we have already a package kernel-devel with the
    necessary dependencies

-------------------------------------------------------------------
Wed Feb 16 13:00:00 CET 2011 - Sebastian Siebert <freespacer@gmx.de>

- update all scripts the year 2011 in the copyright
- add a new config file 'fglrxconfig' for the sysconfig-Editor to
  configure the behaviour of the scripts in boot.fglrxrebuild and
  fglrx-kernel-build.sh
  supported configuration (* = standard value):
    - AUTO_REBUILD (yes*|no)
    - AUTO_LOAD (yes*|no)
    - FGLRX_BUILD_LOG (/var/log/fglrx-build.log)
    - BUILD_FOR_ALL_KERNELS (yes|no*)
    - FORCE_BUILD (yes|no*)
  template located at /var/adm/fillup-templates/sysconfig.fglrxconfig
- change in ati-packager.sh and fglrx.spec:
  - add fglrxconfig to /etc/sysconfig to configure the behaviour
    of the scripts
- retrofit the boot.fglrxrebuild:
  - add variable AUTO_REBUILD to enabled rebuilding the fglrx
    kernel module (/etc/sysconfig/fglrxconfig)
  - add variable AUTO_LOAD to enabled loading the fglrx kernel
    module (/etc/sysconfig/fglrxconfig)
  - if AUTO_REBUILD and AUTO_LOAD are disabled, the init script
    does nothing
  - auto detection of the full path to the binaries
  - the option "status" was completely removed because the option
    "start" have the same functionality
  - rebuild the fglrx kernel module if kernel versions is not equal
    with the built-in kernel version of fglrx
  - additional log entry: build date
  - remove the control character in the log
- retrofit the fglrx-kernel-build.sh:
  - add parameter --all to build the fglrx kernel module for all
    supported kernels (Variable: BUILD_FOR_ALL_KERNELS)
  - add parameter --force to force building the fglrx kernel module
    (Variable: FORCE_BUILD)
  - auto detection of the fullpath to the binaries
  - fix call of depmod to execute for every kernel version
- fix a build failure with SLE10
  - use rpm instead of zypper (ati-packager.sh)
  - linux-kernel-headers is no longer required (fglrx.spec)
  - add kernel-smp to kernel list (fglrx-kernel-build.sh)

-------------------------------------------------------------------
Sun Jan 30 00:25:42 CET 2011 - Sebastian Siebert <freespacer@gmx.de>

- add 'aticonfig --initial' in spec file to create an initial configuration,
  this prevents an error in aticonfig while removing the versions
  (ReleaseVersion and Catalyst_Version) in /etc/ati/amdpcsdb

-------------------------------------------------------------------
Thu Jan 20 17:09:56 CET 2011 - Sebastian Siebert <freespacer@gmx.de>

- add uninstall script amd-uninstall.sh
- changes in ati-packager.sh:
  - create subdirectories for the build root: BUILD_ROOT/usr/X11R6/lib{,64}/fglrx
  - copy /usr/X11R6/lib{,64}/libgl* to BUILD_ROOT/usr/X11R6/lib{,64}/fglrx
  - copy DISTRO_PACKAGE_DIR/amd-uninstall.sh to BUILD_ROOT/usr/share/ati
- changes in fglrx-kernel-build.sh:
  - change build root /usr/src/kernel-modules/fglrx to ./2.6.x
  - modify "make clean" command
  - remove existing modules.order in build root for clean up
- changes in fglrx.spec:
  - create subdirectories in the build root: /usr/X11R6/lib{,64}/fglrx
  - create symbolic link /usr/X11R6/lib/libGL.so.1.2 to fglrx/libGL.so.1.2
  - create subdirectories: /usr/X11R6/lib{,64}/modules/updates/extensions/fglrx
  - create symbolic link /usr/X11R6/lib{,64}/modules/updates/extensions/libglx.so to fglrx/libglx.so
  - install all files in /usr/X11R6/lib{,64}/fglrx/*
  - install all files in /usr/X11R6/lib{,64}/modules/updates/extensions/fglrx/*
  - install uninstall script amd-uninstall.sh to /usr/share/ati
  - remove unnecessary define variable X11_INCLUDE_DIR
  - remove all include path of /usr/include/X11/extensions
  - remove symbolic links from non-existing libfglrx_gamma.so*
  - remove symbolic link /usr/src/kernel-modules/fglrx/Makefile

-------------------------------------------------------------------
Thu Jan 20 12:48:02 CET 2011 - Sebastian Siebert <freespacer@gmx.de>

- small changes in spec file

-------------------------------------------------------------------
Thu Jan 20 08:42:32 CET 2011 - Sebastian Siebert <freespacer@gmx.de>

- removed support for openSUSE 11.1

-------------------------------------------------------------------
Thu Jan 20 08:19:56 CET 2011 - Sebastian Siebert <freespacer@gmx.de>

- activated packaging for openSUSE 11.4

-------------------------------------------------------------------
Wed Jan 12 20:14:29 CET 2011 - Sebastian Siebert <freespacer@gmx.de>

- rewritten the list of supported openSUSE and SLE
  to fixed a bad substitution in a non-bash shell

-------------------------------------------------------------------
Tue Dec 21 17:23:16 CET 2010 - Sebastian Siebert <freespacer@gmx.de>

- add two aticonfig commands to remove keys as follows:
  - LDC/ReleaseVersion
  - LDC/Catalyst_Version

-------------------------------------------------------------------
Tue Dec 21 13:25:15 CET 2010 - Sebastian Siebert <freespacer@gmx.de>

- changes in ati-packager.sh:
  - add option "--get-maintainer"
  - new package name conventions:
    fglrx{,64}_xpic_{SLE,SUSE}(osversion)-(fglrxversion).(arch).rpm
- change in supportedOS.sh:
  - rename XOrg-Version to xpic
- change in spec file:
  - all old package name conventions are obsolete:
    fglrx{,64}_6_9_0_SLE10
    fglrx{,64}_7_4_0_SLE11
    fglrx{,64}_7_4_0_SUSE111
    fglrx{,64}_7_4_0_SUSE112
    fglrx{,64}_7_5_0_SUSE113
    fglrx{,64}_7_6_0_SUSE114

-------------------------------------------------------------------
Tue Dec 21 08:31:03 CET 2010 - Sebastian Siebert <freespacer@gmx.de>

- add a missing "exit 0" on get-supported

-------------------------------------------------------------------
Fri Dec 17 06:20:24 CET 2010 - Sebastian Siebert <freespacer@gmx.de>

- retrofit the fglrx-kernel-build.sh:
  - improve speed up the compilation on multi-core machines

-------------------------------------------------------------------
Thu Dec 16 23:37:56 CET 2010 - Sebastian Siebert <freespacer@gmx.de>

- retrofit the fglrx-kernel-build.sh:
  - fixed an issue with a build failure and exit too early. The successive
    kernels was not builded the fglrx kernel module.
  - improve a summary report of the build and installation of the
    fglrx kernel module to all kernel versions and flavors.
- add a patch for kernel >= 2.6.36 with the issue of the function with
  compat_alloc_user_space(). The make flag "-DCOMPAT_ALLOC_USER_SPACE=..."
  does not work.
- remove obsolete patch: ati-opensuse-11.4.patch

-------------------------------------------------------------------
Mon Dec 13 07:42:31 CET 2010 - Sebastian Siebert <freespacer@gmx.de>

- packaging script and spec file were completely rewritten
- add a verbose mode (1 = what are you doing, 2 = tell me everything)
  Usage:
  # VERBOSE="1" ./ati-driver-installer-(version)-(arch).sh --buildpkg ...
  # VERBOSE="2" ./ati-driver-installer-(version)-(arch).sh --buildpkg ...
- add an auto detection of openSUSE and SLE version and architecture
  Usage:
  # ./ati-driver-installer-(version)-(arch).sh --buildpkg SuSE/SUSE-autodetection
- add a switch to unlock unsupported openSUSE version
  Usage:
  # UNSUPPORTED="yes" ./ati-driver-installer-(version)-(arch).sh --buildpkg ...
- add a rebuild script boot.fglrxrebuild at boot time (init) with a
  logging function to /var/log/fglrx-build.log
- add a renew fglrx-kernel-build.sh with a support to rebuild of all
  available installed kernel flavors and versions
- renew the patches
